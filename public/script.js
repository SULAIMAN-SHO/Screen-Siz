document.addEventListener("DOMContentLoaded", () => { const wPxEl = document.getElementById("widthPx"); const hPxEl = document.getElementById("heightPx"); const wInEl = document.getElementById("widthIn"); const hInEl = document.getElementById("heightIn"); const screenSizeEl = document.getElementById("screenSize"); function updateDisplay() { let wPx = window.innerWidth; let hPx = window.innerHeight; let wIn = (wPx / 96).toFixed(2); let hIn = (hPx / 96).toFixed(2); let diagonalPx = Math.sqrt(Math.pow(wPx, 2) + Math.pow(hPx, 2)); let totalInch = (diagonalPx / 96).toFixed(1); gsap.to(wPxEl, { innerHTML: wPx, duration: 0.5, snap: { innerHTML: 1 } }); gsap.to(hPxEl, { innerHTML: hPx, duration: 0.5, snap: { innerHTML: 1 } }); wInEl.textContent = wIn; hInEl.textContent = hIn; gsap.to(screenSizeEl, { innerHTML: totalInch, duration: 1, ease: "power2.out", onUpdate: function () { screenSizeEl.innerHTML = Number(this.targets()[0].innerHTML).toFixed(1); } }); } updateDisplay(); window.addEventListener("resize", updateDisplay); const tl = gsap.timeline(); tl.to(".dashboard", { y: 0, opacity: 1, duration: 1.2, ease: "power4.out" }) .from(".header h1, .header p", { y: -20, opacity: 0, duration: 0.8, stagger: 0.2, ease: "back.out(1.7)" }, "-=0.6") .from(".data-card", { y: 30, opacity: 0, scale: 0.9, duration: 0.6, stagger: 0.1, ease: "back.out(1.5)" }, "-=0.4") .fromTo(".controls button", { scale: 0.8, autoAlpha: 0 }, { scale: 1, autoAlpha: 1, duration: 0.6, stagger: 0.1, ease: "elastic.out(1, 0.5)" }, "-=0.2") .from("footer", { y: 20, opacity: 0, duration: 0.8 }, "-=0.5"); const dashboard = document.querySelector('.dashboard'); window.addEventListener('mousemove', (e) => { if (window.innerWidth > 768) { const xAxis = (window.innerWidth / 2 - e.pageX) / 50; const yAxis = (window.innerHeight / 2 - e.pageY) / 50; gsap.to(dashboard, { rotationY: xAxis, rotationX: yAxis, ease: "power1.out", duration: 0.5 }); } }); window.addEventListener('mouseleave', () => { gsap.to(dashboard, { rotationY: 0, rotationX: 0, ease: "power2.out", duration: 0.5 }); }); const fullBtn = document.getElementById("fullScreenBtn"); fullBtn.addEventListener("click", function () { if (!document.fullscreenElement) { if (document.documentElement.requestFullscreen) { document.documentElement.requestFullscreen().then(() => { fullBtn.textContent = "الخروج من ملء الشاشة"; gsap.fromTo(fullBtn, { scale: 0.9 }, { scale: 1, duration: 0.3, ease: "back.out(2)" }); }).catch(err => { const originalText = fullBtn.textContent; fullBtn.textContent = "غير مدعوم هنا"; fullBtn.style.color = "#ff4d4d"; fullBtn.style.borderColor = "#ff4d4d"; gsap.fromTo(fullBtn, { x: -10 }, { x: 0, duration: 0.5, ease: "elastic.out(2, 0.3)" }); setTimeout(() => { fullBtn.textContent = originalText; fullBtn.style.color = "white"; fullBtn.style.borderColor = "var(--border-color)"; }, 3000); }); } } else { if (document.exitFullscreen) { document.exitFullscreen().catch(e => console.log(e)); } fullBtn.textContent = "تفعيل وضع ملء الشاشة"; gsap.fromTo(fullBtn, { scale: 0.9 }, { scale: 1, duration: 0.3, ease: "back.out(2)" }); } }); });